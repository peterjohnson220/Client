<pf-async-container [loading]="statementLoading$ | async" [loadingError]="statementLoadingError$ | async" (reload)="handleStatementReload()">

  <div class="container statement mt-4 mb-4 rounded" *ngIf="(statement$ | async)">
    <div *ngFor="let employee of employeeArray">
      <div *ngFor="let page of (statement$ | async)?.Pages" class="pt-4 pb-4 trs-page">
        <section *ngFor="let section of page.Sections" class="row vertical-divider trs-section">
          <div *ngFor="let column of section.Columns" [ngClass]="getColumnWidth(section.ColumnCount)" class="trs-column">
            <div class="row columnRow" >
              <div *ngFor="let control of column.Controls" [ngClass]="getControlWidth(control.Layout.Width)">
                <div *ngIf="control.ControlType === controlType.RichTextEditor" >
                  <pf-trs-rich-text-control
                    [controlData]="control"
                    class="p-1"></pf-trs-rich-text-control>
                </div>

                <div *ngIf="control.ControlType === controlType.Image">
                  <pf-trs-image-control
                    [controlData]="control"
                    [employee]="employee"
                    class="p-1"></pf-trs-image-control>
                </div>

                <div *ngIf="control.ControlType === controlType.Calculation">
                  <pf-trs-calculation-control
                    [controlData]="control"
                    class="p-1"></pf-trs-calculation-control>
                </div>

                <div *ngIf="control.ControlType === controlType.Chart">
                  <pf-trs-chart-control
                    [controlData]="control"
                    [companyColors]="companyColors"
                    [employee]="employee"
                    class="p-1"></pf-trs-chart-control>
                </div>

                <div *ngIf="control.ControlType === controlType.Title">
                  <pf-trs-title-control
                    [controlData]="control"
                    class="p-1"></pf-trs-title-control>
                </div>

                <div *ngIf="control.ControlType === controlType.Summary">
                  <pf-trs-summary-control
                    [controlData]="control"
                    class="p-1"></pf-trs-summary-control>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
      <div class="page-break"></div>
    </div>

  </div>
</pf-async-container>
