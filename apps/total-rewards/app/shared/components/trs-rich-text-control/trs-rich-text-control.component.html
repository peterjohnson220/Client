<div class="col-12 trs-rich-text-control" [ngClass]="{'active': isFocused, 'invalid': !isValid}" pfModeClassifierDirective [mode]="mode">
  <div class="heading">
    <h4 class="primary-control-heading mb-1 d-inline-block">
      <pf-string-editor
        [value]="controlData.Title.Override"
        [placeholder]="controlData.Title.Default"
        [maxCharacters]="35"
        [inEditMode]="mode === statementModeEnum.Edit"
        (valueChange)="onTitleChanged($event)"></pf-string-editor>
    </h4>
    <div kendoTooltip class="tooltip-wrapper d-inline-block ml-2 align-top">
      <label 
        *ngIf="controlData?.DataFields?.length"
        class="info position-relative"
        [ngbTooltip]="'This is a rich text area. Use [ to find and insert existing employee or company fields into your text.'">
        <fa-icon [icon]="['fal', 'info-circle']" aria-hidden="true"></fa-icon>
      </label>
    </div>
  </div>
  <div *ngIf="mode !== statementModeEnum.Print; else rawHtml">
    <a (click)="onClickEditor()">
      <quill-editor
        #richText
        [(ngModel)]="htmlContent"
        [modules]="quillConfig"
        [readOnly]="(mode !== statementModeEnum.Edit)"
        (onEditorCreated)="onEditorCreated($event)"
        (onContentChanged)="onContentChanged($event)"
        (onSelectionChanged)="onSelectionChanged($event)">
      </quill-editor>
    </a>
  </div>
  <ng-template #rawHtml>
    <div [innerHtml]="bindEmployeeDataHtml()"></div>
  </ng-template>
</div>
