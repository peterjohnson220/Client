<div class="row">
  <div class="col-12 col-lg-2">
    <div>
        <kendo-dropdownlist class="form-control border"
                          [attr.data-qa-id]="'ddm-'+ dataType?.Name"
                          [data]="dataType?.DataFields"
                          [textField]="'Name'"
                          [valueField]="'Id'"
                          (valueChange)="dataFieldChanged($event)"
                          [valuePrimitive]="true"
                          [(ngModel)] = "roleDataRestriction.DataFieldId"

      ></kendo-dropdownlist>
    </div>
  </div>
  <div class="col-12 col-lg-2">
    <kendo-dropdownlist class="border form-control"
                        [attr.data-qa-id]="'ddm-Operators'"
                        [valuePrimitive]="true"
                        textField="text"
                        (valueChange)="roleDataRestrictionChanged.emit()"
                        valueField="value"
                        [(ngModel)] = "roleDataRestriction.DataConditionIsEqual"
                        [tabIndex]="0" [data]="Operators"></kendo-dropdownlist>
  </div>
  <div class="col-12 col-lg-4">
     <div  *ngIf="selectedField?.FieldType == _DataFieldTypes.MULTISELECT">
        <div  *ngIf="dataType?.Name=='CompanyPayMarkets'">
          <pf-multi-select
          [attr.data-qa-id]="'ddm-'+ dataType.Name"
          [(selectedValues)]="roleDataRestriction.DataValue"
          (selectedValuesChange)="roleDataRestrictionChanged.emit()"
          [selectedOnTop]="true"
          [highlightSelected]="true"
          [endpointName]="selectedField?.Name == 'PayMarket'?paymarketApiName: surveyApiName"
          [valueField]="'CompanyPayMarketId'"
          [textField]="'PayMarket'">
          </pf-multi-select>
        </div>
        <div  *ngIf="selectedField?.Name=='Country_Code' && dataType?.Name=='CompanySurveys'">
          <pf-multi-select
            [attr.data-qa-id]="'ddm-'+ dataType?.Name"
            [(selectedValues)]="roleDataRestriction.DataValue"
            (selectedValuesChange)="roleDataRestrictionChanged.emit()"
            [selectedOnTop]="true"
            [highlightSelected]="true"
            [endpointName]="surveyApiName"
            [valueField]="'CountryCode'"
            [textField]="'CountryName'"
          >
          </pf-multi-select>
        </div>
     </div>
      <div  *ngIf="selectedField?.FieldType == _DataFieldTypes.TEXT">
        <pf-typeahead [apiEndpoint]="'Role/GetRoleDataRestrictionValues?dataType='+dataType.Name+'&dataField='+toTitleCase(selectedField.Name)"
                      [apiResponsePropertyForTypeahead]="'Value'"
                      [(ngModel)]="roleDataRestriction.DataValue"
                      (componentLeave)="roleDataRestrictionChanged.emit();"
        ></pf-typeahead>
      </div>
  </div>
</div>
