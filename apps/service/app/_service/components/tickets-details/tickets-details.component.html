<div class="tickets-details-container container h-100 w-100" perfectScrollbar>
  <ng-container *ngIf="(ticket$ | async).loading; else content">
    <pf-loading-indicator></pf-loading-indicator>
  </ng-container>
  <ng-template #content>
    <div class="d-flex">
      <div class="ticket-title">
        <ng-container *ngIf="!!ticket?.TicketSummary">
          <h4>{{ticket?.TicketSummary}}</h4>
        </ng-container>
      </div>
      <div (click)="close()" class="close-btn">
        <fa-icon [icon]="['far', 'times']" size="lg"></fa-icon>
      </div>
    </div>
    <div class="d-flex pt-3">
      <div class="ticket-labels"><h6>Status</h6></div>
      <span class="w-100">{{ticket?.TicketStatus}}</span>
    </div>
    <hr>
    <div class="d-flex">
      <div class="ticket-labels"><h6>Ticket Type</h6></div>
      <span class="w-100">{{ticket?.TicketType}}</span>
    </div>
    <hr>
    <div class="d-flex">
      <div class="ticket-labels"><h6>Ticket Details</h6></div>
      <span class="w-100">
        <quill-view-html class="view-only" [content]="ticket?.TicketDetails" theme="snow"></quill-view-html>
      </span>
    </div>
    <hr>
    <pf-ticket-attachments
      [ticketId]="selectedTicketId"
      [attachments]="ticket?.Attachments">
    </pf-ticket-attachments>
    <pf-ticket-notes
      [ticketId]="selectedTicketId"
      [canAddNote]="ticket.NoteAccessLevel === noteAccessLevel.Owner">
    </pf-ticket-notes>
  </ng-template>
</div>

