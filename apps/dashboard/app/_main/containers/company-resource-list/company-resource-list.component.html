<div class="button-container">
    <button id="new-folder-btn" type="button" class="btn btn-primary"><fa-icon icon="folder-plus"></fa-icon>Add Folder</button>
    <button id="upload-btn" type="button" class="btn btn-primary"><fa-icon icon="upload"></fa-icon>Upload Resource</button>
</div>
<div class="list-container">
    <ng-container *ngIf="companyResources && companyResources.Folders">
        <ul class="fa-ul" *ngFor="let folderResource of companyResources.Folders; index as i">
            <li class="folder-item" (click)="onFolderSelect('folder' + i)" [ngStyle]="{'font-weight': setFontWeight('folder' + i)}">
                <span class="fa-li">
                    <fa-icon icon="{{setFolderIcon('folder' + i)}}"></fa-icon>
                </span>{{folderResource.FolderName}}
            </li>
            <ul [hidden]="folders['folder' + i]" class="resource-list">
                <ng-container *ngIf="folderResource.CompanyResources && folderResource.CompanyResources.length > 0; then resourceItem else emptyResourceItem"></ng-container>
                <ng-template #resourceItem>
                    <li class="resource-item" *ngFor="let resource of folderResource.CompanyResources">
                        <div class="resource-text">
                            <ng-container *ngIf="isLink(resource); then linkItem else fileItem"></ng-container>
                            <ng-template #linkItem>
                                <a href="{{resource.LinkUrl}}" target="_blank">{{resource.ResourceTitle}}</a>
                            </ng-template>
                            <ng-template #fileItem>
                                <a href="{{formatFileUrl(resource)}}">{{resource.ResourceTitle}}</a>
                            </ng-template>
                        </div>
                        <div class="icon-container">
                            <fa-icon class="resource-icon" icon="{{setResourceIcon(resource)}}"></fa-icon>
                            <button type="button" class="btn btn-danger">Delete</button>
                        </div>
                    </li>
                </ng-template>
                <ng-template #emptyResourceItem>
                    <li class="resource-item font-italic text-muted">
                        <span>Empty</span>
                        <button type="button" class="btn btn-primary">Add</button>
                    </li>
                </ng-template>
            </ul>    
        </ul>
    </ng-container>
    <ng-container *ngIf="companyResources && companyResources.OrphanedCompanyResources">       
        <ul class="orphan-list">
            <li class="resource-item" *ngFor="let orphanResource of companyResources.OrphanedCompanyResources">  
                <div class="resource-text">
                    <ng-container *ngIf="isLink(orphanResource); then orphanLinkItem else orphanFileItem"></ng-container>
                    <ng-template #orphanLinkItem>
                        <a href="{{orphanResource.LinkUrl}}" target="_blank">{{orphanResource.ResourceTitle}}</a>
                    </ng-template>
                    <ng-template #orphanFileItem>
                        <a href="{{formatFileUrl(orphanResource)}}">{{orphanResource.ResourceTitle}}</a>
                    </ng-template>
                </div>
                <div class="icon-container">
                    <fa-icon class="resource-icon" icon="{{setResourceIcon(orphanResource)}}"></fa-icon>
                    <button type="button" class="btn btn-danger">Delete</button>
                </div>
            </li>
        </ul>
    </ng-container>
</div>