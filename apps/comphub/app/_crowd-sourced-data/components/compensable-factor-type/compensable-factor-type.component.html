<div class="card">
  <div class="card-body">
    <h5 class="card-title">{{title}}</h5>
    <h6 class="card-subtitle mb-2 text-muted">{{description}}</h6>
    <ng-container *ngIf="factorType === factorTypes.Search; else dropDown">
      <form [formGroup]="topFactorsForm">
        <h6 class="card-subtitle">{{topFactorsHeading}}</h6>
        <label formArrayName="checkList" *ngFor="let checkBox of topFactorsFormArray.controls; let i = index">
          <input type="checkbox" [formControlName]="i" (change)="topFactorChecked(topFactors[i])">
          {{topFactors[i].Name}}
        </label>
      </form>
      <div>
        <kendo-autocomplete
          class="w-100 mt-4"
          valueField="Name"
          [disabled]="maxSelections"
          [placeholder]="searchPlaceHolder"
          [data]="searchFactors"
          [kendoDropDownFilter]="filterSettings"
          (valueChange)="handleSearchValueSelected($event)">
          <ng-template kendoAutoCompleteNoDataTemplate>
            No matching results
          </ng-template>
        </kendo-autocomplete>
      </div>
      <div class="pills-container pb-2" *ngFor="let factor of selectedFactors">
        <div class="badge badge-pill" (click)="pillClicked(factor.Name)">
          {{factor.Name}}
          <fa-icon icon="times" aria-hidden="true"></fa-icon>
        </div>
      </div>
    </ng-container>
  </div>
</div>


<ng-template #dropDown>
  <kendo-dropdownlist id="rate" [ngClass]="{'small-drop-down': smallDropDown }" class="form-control k-dropdown-white"
                      [data]="compensableFactors"
                      [valuePrimitive]="true"
                      [(value)]="defaultDropDownValue"
                      [valueField]="'Name'"
                      [textField]="'Name'"
                      (valueChange)="handleDropDownValueSelected($event)">
  </kendo-dropdownlist>
</ng-template>
