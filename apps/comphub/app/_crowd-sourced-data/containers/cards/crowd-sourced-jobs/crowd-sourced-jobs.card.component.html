<pf-jobs-card-wrapper>
  <ng-container jobsCardContent>
    <div class="row">
      <div class="col-lg-12 col-xl-9">

        <!--this is currently using market data we will have to update to use crowd sourced data-->
        <div class="data-set-selector" *ngIf="(countryDataSets$ | async)?.length > 1">
          <kendo-dropdownlist
            (valueChange)="handleCountryDataSetChanged($event)"
            class="form-control"
            textField="CountryCode"
            valueField="CountryCode"
            [data]="countryDataSets$ | async"
            [valuePrimitive]="true"
            [ngModel]="workflowContext?.activeCountryDataSet?.CountryCode">

            <ng-template kendoDropDownListItemTemplate let-dataItem>
              <img src="assets/images/blank.gif" class="flag flag-{{dataItem?.FlagCode | lowercase}} mr-2" /> {{ dataItem?.CountryCode }}
            </ng-template>
            <ng-template kendoDropDownListValueTemplate let-dataItem>
              <img src="assets/images/blank.gif" class="flag flag-{{dataItem?.FlagCode | lowercase}} mr-2" /> {{ dataItem?.CountryCode }}
            </ng-template>

          </kendo-dropdownlist>
        </div>

        <div class="search-filter">
          <pf-input-debounce
            [ngModel]="selectedJob$ | async"
            [placeholderText]="'Search for a Job Title...'"
            [delay]="1000"
            [hideClearBtn]="true"
            id="search-paymarkets"
            (valueChanged)="handleJobSearchValueChanged($event)">
          </pf-input-debounce>

          <span *ngIf="selectedJob$ | async"
            (click)="clearSearchValue()"
            class="k-icon k-clear-value k-i-close">
          </span>
        </div>
      </div>
    </div>

   <pf-crowd-sourced-job-results></pf-crowd-sourced-job-results>

    <!--trending jobs will be added here look at jobs.card.component.html-->
  </ng-container>
</pf-jobs-card-wrapper>
