<pf-modal-form
  [modalId]="modalId"
  [size]="'lg'"
  [title]="metaData?.StructureName"
  [subTitle]="metaData?.Paymarket"
  [primaryButtonText]="metaData?.IsCurrent ? 'Create Model' : 'Save'"
  [primaryButtonTextSubmitting]="metaData?.IsCurrent ? 'Creating Model...' : 'Saving...'"
  [submitting]="(savingModelSettingsAsyncObj$ | async)?.saving"
  [formGroup]="modelSettingsForm"
  [isOpen$]="modalOpen$"
  [flipPrimarySecondaryBtns]="true"
  (onSubmit)="handleModalSubmit()"
  (onSubmitAttempt)="handleModalSubmitAttempt()"
  (onDismiss)="handleModalDismiss()">

  <ng-container [formGroup]="modelSettingsForm" form-content>
    <ng-content select="[structures-settings-modal-content]"></ng-content>
  </ng-container>

  <ng-container footer-left>
    <div *ngIf="(savingModelSettingsAsyncObj$ | async)?.savingError" class="invalid-feedback d-block">
      Error saving settings
    </div>
    <div *ngIf="(savingModelSettingsAsyncObj$ | async)?.savingErrorResponse?.error?.Message
                  && (savingModelSettingsAsyncObj$ | async)?.savingErrorResponse?.error?.Message.includes('too large')"
        class="invalid-feedback d-block">
      {{(savingModelSettingsAsyncObj$ | async)?.savingErrorResponse?.error?.Message}}
    </div>
  </ng-container>
</pf-modal-form>
