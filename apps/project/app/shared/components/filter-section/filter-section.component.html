<div class="filter" [class.singled]="singled">
  <div class="header" (click)="toggle()">
    <div class="header-left">
      {{filter.DisplayName}}<span *ngIf="isRangeFilter" class="pl-1">({{currencyCode}})</span>

      <div class="ml-2" *ngIf="collapsed">
        <i class="far fa-angle-down"></i>
      </div>
    </div>
    <div class="header-right">
      <div class="clear-link"
          [ngClass]="cssResetClearBtnAutomationName"
          *ngIf="shouldShowClearLink"
          (click)="handleClearClicked($event, filter.Id)">
        <ng-container *ngIf="selectionCount > 0">Clear ({{selectionCount}})</ng-container>
        <ng-container *ngIf="rangeHasSelection">Clear</ng-container>
        <ng-container *ngIf="hasText">Clear</ng-container>
      </div>
      <div class="search"
           [ngClass]=" 'au-btn-search-' + filter.CssClassName"
           *ngIf="allowedToSearch"
           (click)="handleSearchClicked($event, filter)">
        <i class="far fa-search"></i>
      </div>
    </div>
  </div>
  <div *ngIf="!collapsed">
    <div class="search-filter" *ngIf="singled">
      <pf-input-debounce
        [ngModel]="searchValue"
        (valueChanged)="handleSearchValueChanged($event)"
        [automationClassName]="'au-txt-search-' + filter.CssClassName">
      </pf-input-debounce>
    </div>
    <div class="content">
      <ng-content></ng-content>
      <div *ngIf="displayShowMore" (click)="handleShowMoreClicked(filter)" class="show-more-link" [class.disabled]="!allowedToSearch">Show More</div>
    </div>
  </div>
</div>
