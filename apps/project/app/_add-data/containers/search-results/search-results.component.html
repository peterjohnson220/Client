<div #results
     class="results"
     infinite-scroll
     [scrollWindow]="false"
     [infiniteScrollDistance]="2"
     (scrolled)="onScroll()">

    <pf-async-container
      [loading]="loadingResults$ | async"
      [loadingError]="error$ | async"
      [hideReloadButton]="true"
      [spinnerType]="spinnerType">

      <ng-container *ngIf="(jobResults$ | async)?.length; else noResultsMessage">
        <pf-job-result
          *ngFor="let jobResult of jobResults$ | async; trackBy: trackByJobId"
          [job]="jobResult"
          [cutsDraggable]="cutsDraggable"
          [currencyCode]="(projectSearchContext$ | async)?.CurrencyCode"
          (loadDataCuts)="handleLoadDataCuts($event)"
          (cutSelected)="handleCutSelectionToggle($event)"
          (matchesMouseEnter)="handleMatchesMouseEnter($event)"
          (matchesMouseLeave)="handleMatchesMouseLeave()"
		      [ngClass]="jobResult.IsPayfactors ? 'payfactors-job' : 'non-payfactors-job'">
        </pf-job-result>
      </ng-container>

    </pf-async-container>

    <div class="m-3" *ngIf="loadingMoreResults$ | async">
      <pf-loading-indicator [spinnerType]="spinnerType"></pf-loading-indicator> Loading More Results...
    </div>
  </div>

<ng-template #noResultsMessage>
  <div *ngIf="!(loadingResults$ | async)" class="no-results-message-container">
    No results. Please change your filter criteria and search again.
  </div>
</ng-template>

<pf-tooltip-container #tooltipContainer></pf-tooltip-container>
