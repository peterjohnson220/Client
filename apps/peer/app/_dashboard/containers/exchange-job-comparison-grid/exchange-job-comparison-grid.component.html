<pf-async-container
  [loading]="loadingExchangeJobComparisons$ | async"
  [loadingError]="loadingExchangeJobComparisonsError$ | async"
  [hideReloadButton]="true">

  <kendo-grid class="no-wrap-ellipsis-values"
              height="100%"
              [data]="exchangeJobComparisonsGridData$ | async"
              [pageSize]="exchangeJobComparisonGridState?.take"
              [skip]="exchangeJobComparisonGridState?.skip"
              [sort]="exchangeJobComparisonGridState?.sort"
              [filter]="exchangeJobComparisonGridState?.filter"
              [pageable]="{
                    buttonCount: 5,
                    info: true
                  }"
              [sortable]="true"
              filterable="menu"
              (dataStateChange)="handleDataStateChange($event)">
    <kendo-grid-column field="CompanyJobTitle" title="Company Job Title" width="325">
      <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
        <kendo-grid-string-filter-menu [column]="column" [filter]="filter" [filterService]="filterService" [extra]="false">
          <kendo-filter-contains-operator></kendo-filter-contains-operator>
          <kendo-filter-not-contains-operator></kendo-filter-not-contains-operator>
          <kendo-filter-eq-operator></kendo-filter-eq-operator>
          <kendo-filter-neq-operator></kendo-filter-neq-operator>
          <kendo-filter-startswith-operator></kendo-filter-startswith-operator>
          <kendo-filter-endswith-operator></kendo-filter-endswith-operator>
        </kendo-grid-string-filter-menu>
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="ExchangeJobTitle" title="Exchange Job Title" width="325">
      <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
        <kendo-grid-string-filter-menu [column]="column" [filter]="filter" [filterService]="filterService" [extra]="false">
          <kendo-filter-contains-operator></kendo-filter-contains-operator>
          <kendo-filter-not-contains-operator></kendo-filter-not-contains-operator>
          <kendo-filter-eq-operator></kendo-filter-eq-operator>
          <kendo-filter-neq-operator></kendo-filter-neq-operator>
          <kendo-filter-startswith-operator></kendo-filter-startswith-operator>
          <kendo-filter-endswith-operator></kendo-filter-endswith-operator>
        </kendo-grid-string-filter-menu>
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="ExchangeOrgs" title="Exchg Orgs" class="text-right">
      <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
        <kendo-grid-numeric-filter-menu [column]="column" [filter]="filter" [filterService]="filterService" [extra]="false">
          <kendo-filter-eq-operator></kendo-filter-eq-operator>
          <kendo-filter-neq-operator></kendo-filter-neq-operator>
          <kendo-filter-gte-operator></kendo-filter-gte-operator>
          <kendo-filter-gt-operator></kendo-filter-gt-operator>
          <kendo-filter-lte-operator></kendo-filter-lte-operator>
          <kendo-filter-lt-operator></kendo-filter-lt-operator>
        </kendo-grid-numeric-filter-menu>
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem>
        {{dataItem.ExchangeOrgs | number}}
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="ExchangeIncs" title="Exchg Incs" class="text-right">
      <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
        <kendo-grid-numeric-filter-menu [column]="column" [filter]="filter" [filterService]="filterService" [extra]="false">
          <kendo-filter-eq-operator></kendo-filter-eq-operator>
          <kendo-filter-neq-operator></kendo-filter-neq-operator>
          <kendo-filter-gte-operator></kendo-filter-gte-operator>
          <kendo-filter-gt-operator></kendo-filter-gt-operator>
          <kendo-filter-lte-operator></kendo-filter-lte-operator>
          <kendo-filter-lt-operator></kendo-filter-lt-operator>
        </kendo-grid-numeric-filter-menu>
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem>
        {{dataItem.ExchangeIncs | number}}
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="CompanyBaseAverage" title="Company Base Avg" width="175" class="text-right" headerClass="filter-menu-left">
      <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
        <kendo-grid-numeric-filter-menu [column]="column" [filter]="filter" [filterService]="filterService" [extra]="false">
          <kendo-filter-eq-operator></kendo-filter-eq-operator>
          <kendo-filter-neq-operator></kendo-filter-neq-operator>
          <kendo-filter-gte-operator></kendo-filter-gte-operator>
          <kendo-filter-gt-operator></kendo-filter-gt-operator>
          <kendo-filter-lte-operator></kendo-filter-lte-operator>
          <kendo-filter-lt-operator></kendo-filter-lt-operator>
        </kendo-grid-numeric-filter-menu>
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem>
        {{dataItem.CompanyBaseAverage != null ? (dataItem.CompanyBaseAverage | number: '1.1-1') : '- -'}}
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="ExchangeBaseAverage" title="Exchange Base Avg" width="175" class="text-right" headerClass="filter-menu-left">
      <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
        <kendo-grid-numeric-filter-menu [column]="column" [filter]="filter" [filterService]="filterService" [extra]="false">
          <kendo-filter-eq-operator></kendo-filter-eq-operator>
          <kendo-filter-neq-operator></kendo-filter-neq-operator>
          <kendo-filter-gte-operator></kendo-filter-gte-operator>
          <kendo-filter-gt-operator></kendo-filter-gt-operator>
          <kendo-filter-lte-operator></kendo-filter-lte-operator>
          <kendo-filter-lt-operator></kendo-filter-lt-operator>
        </kendo-grid-numeric-filter-menu>
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem>
        {{dataItem.ExchangeBaseAverage != null ? (dataItem.ExchangeBaseAverage | number: '1.1-1') : '- -'}}
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="ExchangeIndex" title="Market Index" width="125" class="text-right" headerClass="filter-menu-left">
      <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
        <kendo-grid-numeric-filter-menu [column]="column" [filter]="filter" [filterService]="filterService" [extra]="false">
          <kendo-filter-eq-operator></kendo-filter-eq-operator>
          <kendo-filter-neq-operator></kendo-filter-neq-operator>
          <kendo-filter-gte-operator></kendo-filter-gte-operator>
          <kendo-filter-gt-operator></kendo-filter-gt-operator>
          <kendo-filter-lte-operator></kendo-filter-lte-operator>
          <kendo-filter-lt-operator></kendo-filter-lt-operator>
        </kendo-grid-numeric-filter-menu>
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem>
        <span *ngIf="dataItem.ExchangeIndex" [ngClass]="getExchangeIndexFontColorClass(dataItem.ExchangeIndex)">
          {{getExchangeIndexValue(dataItem.ExchangeIndex)}}
        </span>
        <ng-container *ngIf="!dataItem.ExchangeIndex">
          - -
        </ng-container>
      </ng-template>
    </kendo-grid-column>
  </kendo-grid>
</pf-async-container>
