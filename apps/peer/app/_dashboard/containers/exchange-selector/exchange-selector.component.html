<button type="button"
        class="btn btn-secondary"
        [ngbPopover]="popContent"
        popoverTitle="My Current Exchanges"
        placement="bottom"
        pfHandlePopoverClose
        #p="ngbPopover">

  <span class="text-muted">Exchange:</span>
  <strong>{{currentExchange?.ExchangeName}}</strong>
  <i class="fas fa-caret-down"></i>

</button>

<ng-template #popContent>
  <div class="d-flex flex-column h-100">
    <div class="popover-content">

      <div (click)="handleExchangeClicked(exchangeListItem)"
           *ngFor="let exchangeListItem of exchangeListItems$ | async"
           class="exchange-selection"
           [class.current-exchange]="currentExchange.ExchangeId === exchangeListItem.ExchangeId">

        <div class="d-flex justify-content-between">

          <div class="ellipsis-overflowing-text">
            {{exchangeListItem.ExchangeName}}
          </div>

          <div class="d-flex align-items-center text-muted small no-wrap">
            {{exchangeListItem.NumberOfCompanies}} Companies
          </div>

        </div>


      </div>
    </div>

    <div class="popover-footer">
      <button type="button" class="btn btn-sm btn-primary" (click)="openRequestAccessModal()">Request Access</button>
    </div>
  </div>

</ng-template>
