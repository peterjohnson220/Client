<pf-async-container [loading]="loadingExchangeJobMappings$ | async" [loadingError]="loadingExchangeJobMappingsError$ | async"
  [hideReloadButton]="true">

  <kendo-grid class="row-click-navigates no-wrap-ellipsis-values" [pfKendoScrollTo]="pageRowIndexToScrollTo" [pfKendoScrollToEnabled]="!disableScrollTo"
    [data]="exchangeJobMappingsGridData$ | async" [pageSize]="exchangeJobMappingGridState?.take" [skip]="exchangeJobMappingGridState?.skip"
    [sort]="exchangeJobMappingGridState?.sort" [filter]="exchangeJobMappingGridState?.filter" [pageable]="{
                    buttonCount: 5,
                    info: true
                  }" [resizable]="true" [sortable]="true" [selectable]="{
                mode: 'single'
              }" [rowClass]="rowClass" filterable="menu" (selectionChange)="onSelectionChange($event)" (dataStateChange)="onDataStateChange($event)"
    [kendoGridSelectBy]="'Id'" (cellClick)="onCellClick($event)">
    <kendo-grid-column field="Mapped" title="Status" width="75" class="text-center" headerClass="text-center">
      <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter let-filterService="filterService">
        <pf-bool-filter [isPrimitive]="false" [currentFilter]="filter" [filterService]="filterService" [data]="associationData" textField="Key"
          valueField="Value" fieldToSearch="Mapped"></pf-bool-filter>
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem>
        <span class="mapped">
          <span *ngIf="dataItem.Mapped" class="badge badge-success mapped">Associated</span>
          <span *ngIf="!dataItem.Mapped" class="badge badge-danger mapped">Not Associated</span>
        </span>
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="ExchangeJobTitle" title="Exchange Job Title" width="300">
      <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
        <kendo-grid-string-filter-menu [column]="column" [filter]="filter" [filterService]="filterService" [extra]="false">
          <kendo-filter-contains-operator></kendo-filter-contains-operator>
          <kendo-filter-not-contains-operator></kendo-filter-not-contains-operator>
          <kendo-filter-eq-operator></kendo-filter-eq-operator>
          <kendo-filter-neq-operator></kendo-filter-neq-operator>
          <kendo-filter-startswith-operator></kendo-filter-startswith-operator>
          <kendo-filter-endswith-operator></kendo-filter-endswith-operator>
        </kendo-grid-string-filter-menu>
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="ExchangeJobFamily" title="Exchange Job Family" width="225">
      <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
        <kendo-grid-string-filter-menu [column]="column" [filter]="filter" [filterService]="filterService" [extra]="false">
          <kendo-filter-contains-operator></kendo-filter-contains-operator>
          <kendo-filter-not-contains-operator></kendo-filter-not-contains-operator>
          <kendo-filter-eq-operator></kendo-filter-eq-operator>
          <kendo-filter-neq-operator></kendo-filter-neq-operator>
          <kendo-filter-startswith-operator></kendo-filter-startswith-operator>
          <kendo-filter-endswith-operator></kendo-filter-endswith-operator>
        </kendo-grid-string-filter-menu>
      </ng-template>
    </kendo-grid-column>

    <kendo-grid-column field="MappingCount" title="Associations" width="90" class="text-right">
      <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
        <kendo-grid-numeric-filter-menu [column]="column" [filter]="filter" [decimals]="0" [step]="1" [min]="0" [filterService]="filterService"
          [extra]="false">
          <kendo-filter-eq-operator></kendo-filter-eq-operator>
        </kendo-grid-numeric-filter-menu>
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="PendingRequest" title="Job Status" width="125" class="text-center" headerClass="text-center">
      <ng-template kendoGridFilterMenuTemplate let-column="column" let-filter let-filterService="filterService">
        <pf-bool-filter [isPrimitive]="false" fieldToSearch="PendingRequest" [currentFilter]="filter" [filterService]="filterService"
          textField="Key" valueField="Value" [data]="pendingStatusData"></pf-bool-filter>
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem>
        <span *ngIf="dataItem.PendingRequest" class="badge badge-warning">Pending Approval</span>
      </ng-template>
    </kendo-grid-column>
    <kendo-grid-column field="ExchangeJobCreateDate" title="Date Added" width="90" format='{0:MM/dd/yyyy}'>
      <ng-template kendoGridFilterMenuTemplate let-filter let-column="column" let-filterService="filterService">
        <kendo-grid-date-filter-menu [column]="column" [filter]="filter" [filterService]="filterService" [extra]="false">
          <kendo-filter-gte-operator></kendo-filter-gte-operator>
          <kendo-filter-eq-operator></kendo-filter-eq-operator>
          <kendo-filter-lte-operator></kendo-filter-lte-operator>
          <kendo-filter-neq-operator></kendo-filter-neq-operator>
        </kendo-grid-date-filter-menu>
      </ng-template>
      <ng-template kendoGridCellTemplate let-dataItem>
        <span *ngIf="!dataItem.PendingRequest">{{ dataItem.ExchangeJobCreateDate | date:"MM/dd/yyyy" }}</span>
      </ng-template>
    </kendo-grid-column>
  </kendo-grid>
</pf-async-container>
