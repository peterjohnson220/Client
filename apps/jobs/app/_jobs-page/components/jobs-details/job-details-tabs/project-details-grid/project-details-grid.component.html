<pf-data-grid
  [pageViewId]="pageViewId"
  [showTitle]="false"
  [columnTemplates]="colTemplates"
  [inboundFilters]="filters"
  [defaultSort]="defaultSort"
  [noRecordsFound]="'This job has not been added to any projects.'"
  [headerClassName]="'jobs-page-sub-grid-header'"
  [actionBarConfig]="actionBarConfig"
  [gridConfig]="gridConfig"
  [pageable]="!gridConfig.EnableInfiniteScroll">
</pf-data-grid>

<ng-template kendoGridCellTemplate #projectAccessColumn let-dataRow="dataRow" let-rowIndex="rowIndex">
  <ng-container *ngIf="dataRow['UserSessions_HasProjectAccess']; else noAccess">
    <a
      [attr.data-qa-id]="'lnk-access-project-' + rowIndex"
      class="access-project-link"
      href="../../../../marketdata/marketdata.asp?usersession_id={{dataRow['UserSessions_UserSession_ID']}}">
      Access Project
    </a>
  </ng-container>
  <ng-template #noAccess>
    Owned by {{dataRow['UserSessions_Create_User']}}
  </ng-template>
</ng-template>

<ng-template #payMarketFilter>
  <kendo-dropdownlist
    style="width: 250px"
    [(ngModel)]="selectedPayMarket"
    [textField]="'Value'"
    [valueField]="'Id'"
    [defaultItem]="{Value:'All Pay Markets', Id: null}"
    [data]="filteredPayMarketOptions"
    (valueChange)="handlePayMarketFilterChanged($event)"
    [filterable]="true"
    (filterChange)="handleFilter($event)"
    [attr.data-qa-id]="'ddm-operator-'+payMarketField?.SourceName"
    class="k-dropdown-white form-control">
  </kendo-dropdownlist>
</ng-template>
