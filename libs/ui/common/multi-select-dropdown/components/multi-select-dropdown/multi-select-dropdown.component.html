<div class="d-flex flex-column mb-2">
  <span *ngIf="!!title" class="mb-2">{{title}}</span>
  <kendo-dropdownlist #dropdownList *ngIf="!!listItems?.length"
    class="dropdownlist"
    [data]="listItems"
    [textField]="'Value'"
    [valueField]="'Value'"
    [valuePrimitive]="true"
    pfClickElsewhere
    (clickElsewhere)="handleCloseClicked()"
    (close)="handleDropdownCloseEvent($event)"
    (open)="handleOpenDropdownEvent($event)">

    <ng-template kendoDropDownListItemTemplate let-dataItem>
      <pf-item-group
        [itemGroup]="dataItem"
        (itemClicked)="handleItemClicked($event)">
      </pf-item-group>
    </ng-template>

    <ng-template kendoDropDownListValueTemplate>
      <span *ngIf="selectedValues?.length > 0; else placeholderTemplate" class="d-flex justify-content-between w-100">
        <span class="value-template flex-fill">{{ selectedValues[0] }}</span>
        <span *ngIf="selectedValues.length > 1" class="d-flex justify-content-end">
          & {{selectedValues.length - 1}} MORE
        </span>
      </span>
      <ng-template #placeholderTemplate>{{placeholder}}</ng-template>
    </ng-template>

    <ng-template kendoDropDownListFooterTemplate>
      <div class="d-flex justify-content-end ticket-states-footer space-out-children">
        <button type="button"
          (click)="handleCloseClicked()"
          class="btn btn-secondary">
          Close
        </button>
        <button type="button"
          (click)="handleApplyClicked()"
          class="btn light-blue-btn">
          Apply
        </button>
      </div>
    </ng-template>

  </kendo-dropdownlist>
</div>