<label>{{ field.DisplayName }}:</label>

<ng-container *ngIf="field.CustomFilterStrategy; else simpleFilter" >
  <div class="row">
    <div class="col-12">
      <pf-input-debounce [attr.data-qa-id]="'txt-value-'+field.SourceName"
        [ngModel]="field.FilterValue"
        [placeholderText]="field.FilterPlaceholder ? field.FilterPlaceholder : null"
        (valueChanged)="handleFilterValueChanged($event)"
        [delay]="400">
      </pf-input-debounce>      
    </div>
  </div>
</ng-container>

<ng-template #simpleFilter>
  <div [ngSwitch]="field.DataType">
    <ng-template [ngSwitchCase]="dataTypes.String">
      <div class="row">
        <div class="col-6">
          <kendo-dropdownlist
            [data]="filterOperatorOptions.string"
            [textField]="'display'"
            [valueField]="'value'"
            [valuePrimitive]="true"
            [ngModel]="field.FilterOperator"
            (valueChange)="handleFilterOperatorChanged($event)"
            [attr.data-qa-id]="'ddm-operator-'+field.SourceName"
            class="k-dropdown-white form-control">
          </kendo-dropdownlist>
        </div>
        <div class="col-6">
          <pf-input-debounce [attr.data-qa-id]="'txt-value-'+field.SourceName"
            [ngModel]="field.FilterValue"
            (valueChanged)="handleFilterValueChanged($event)"
            [disabled]="valueCanBeEmpty()"
            [delay]="400">
          </pf-input-debounce>        
        </div>
      </div>
    </ng-template>
    <ng-template [ngSwitchCase]="dataTypes.DateTime">
      <div class="row">
        <div class="col-6">
          <kendo-dropdownlist
            [data]="filterOperatorOptions.dateTime"
            [textField]="'display'"
            [valueField]="'value'"
            [valuePrimitive]="true"
            [ngModel]="field.FilterOperator"
            (valueChange)="handleFilterOperatorChanged($event)"
            [attr.data-qa-id]="'ddm-operator-'+field.SourceName"
            class="k-dropdown-white form-control">
          </kendo-dropdownlist>
        </div>
        <div class="col-6">
          <kendo-datepicker 
            [value]="field.FilterValue"
            [disabled]="valueCanBeEmpty()"
            (valueChange)="handleFilterValueChanged($event)"
            [attr.data-qa-id]="'txt-value-'+field.SourceName">
          </kendo-datepicker>
        </div>
      </div>
    </ng-template>
    <ng-template [ngSwitchCase]="dataTypes.Int">
      <div class="row">
        <div class="col-6">
          <kendo-dropdownlist
            [data]="filterOperatorOptions.int"
            [textField]="'display'"
            [valueField]="'value'"
            [valuePrimitive]="true"
            [ngModel]="field.FilterOperator"
            (valueChange)="handleFilterOperatorChanged($event)"
            [attr.data-qa-id]="'ddm-operator-'+field.SourceName"
            class="k-dropdown-white form-control">
          </kendo-dropdownlist>
        </div>
        <div class="col-6">         
          <kendo-numerictextbox
            [value]="field.FilterValue"
            [format]="'n0'"
            [decimals]="0"
            [min]="1"
            [disabled]="valueCanBeEmpty()"
            (pfDebounceValueChanged)="handleFilterValueChanged($event)"
            [attr.data-qa-id]="'txt-value-'+field.SourceName"
            class="form-control">
          </kendo-numerictextbox>
        </div>
      </div>
    </ng-template>
  </div>      
</ng-template>


