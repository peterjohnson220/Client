<div class="d-flex justify-content-between align-items-center" id="action-bar-container" *ngIf="showActionBar">
  <div class="d-flex space-out-children">
    <div class="mr-3" *ngFor="let gl of globalFilters; trackBy: trackByFn;">
      <div [ngSwitch]="true">
        <ng-container *ngSwitchCase="globalFiltersTemplate!=null && globalFiltersTemplate[gl.SourceName]!=null"
                      [ngTemplateOutlet]="globalFiltersTemplate[gl.SourceName].Template">
        </ng-container>

        <kendo-switch *ngSwitchCase="gl.DataType==='bit'" [title]="gl.FilterPlaceholder"  style="width:80px;"
                       [checked]="gl.FilterValue"
                       [onLabel]="'Active'"
                       [offLabel]="'Inactive'"
                       (valueChange)="handleGlobalFilterValueChanged(gl, $event)"
        >
        </kendo-switch>

        <pf-input-debounce *ngSwitchDefault
          [placeholderText]="gl.FilterPlaceholder"
          [hideClearBtn]="false"
          [minWidth]="300"
          [delay]="400"
          [(ngModel)]="getNgModel(gl).FilterValue"
          (valueChanged)="handleGlobalFilterValueChanged(gl, $event)"
          [id]="'txt-' + gl.SourceName">
        </pf-input-debounce>
      </div>
    </div>
  </div>
  <div class="d-flex space-out-children">
    <ng-container>
      <ng-container class="d-flex " *ngIf="globalActionsTemplate" [ngTemplateOutlet]="globalActionsTemplate"></ng-container>

      <button *ngIf="allowExport" type="button" title="Export" id="export-popover-btn" class="btn btn-secondary"
              placement="bottom-right" popoverTitle="Choose Content to Export">
        <fa-icon icon="download"></fa-icon>
      </button>

      <pf-column-chooser *ngIf="showColumnChooser"
        [dataFields]="dataFields$ | async"
        (saveColumns)="updateFields($event)">
      </pf-column-chooser>

      <pf-filter-chooser *ngIf="showFilterChooser"
        [savedViews]="savedViews$ | async"
        [viewDeleting]="(viewDeleting$ | async)"
        [viewNameToBeDeleted]="(viewNameToBeDeleted$ | async)"
        (onFilterSidebarToggle)="toggleFilterPanel()"
        (selectView)="savedViewClicked($event)"
        (prepareViewForDelete)="prepareViewForDelete($event)"
        (deleteViewEvent)="deleteView($event)"
        (cancelDeleteEvent)="cancelDelete()"
      ></pf-filter-chooser>
    </ng-container>
  </div>
</div>
