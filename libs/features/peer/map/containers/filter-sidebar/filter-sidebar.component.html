<div class="filter-sidebar">

  <div class="filter-header">
    <pf-pay-market-bounds-filter
      *ngIf="(payMarket$ | async)?.CompanyPayMarketId"
      [enabled]="limitToPayMarket$ | async"
      [payMarket]="payMarket$ | async"
      (limitToPayMarketToggled)="handleLimitToPayMarketToggled()">
    </pf-pay-market-bounds-filter>

    <pf-scope-selector *ngIf="(payMarket$ | async)?.CompanyPayMarketId"></pf-scope-selector>

    <pf-pay-market-filter-info
      [orgCount]="(mapSummary$ | async)?.OverallMapStats.CompanyCount"
      [incCount]="(mapSummary$ | async)?.OverallMapStats.SalaryCount"
      [hasSelections]="(selectionsCount$ | async) > 0"
      (resetAllFiltersClicked)="handleClearAllSelections()">
    </pf-pay-market-filter-info>
  </div>

  <div class="aggregate-groups-container">
    <pf-filter-aggregate-group
      *ngFor="let aggregateGroup of (filterAggregateGroups$ | async); trackBy: trackByFilterProp"
      [aggregateGroup]="aggregateGroup"
      [previewLimit]="previewLimit$ | async"
      (aggregateToggled)="handleAggregateToggled($event)"
      (aggregateGroupSelectionsToggled)="handleAggregateGroupSelectionsToggled($event)">
    </pf-filter-aggregate-group>
  </div>

</div>




