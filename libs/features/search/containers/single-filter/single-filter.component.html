<div class="single-filter">

  <div class="back-to-all-filters" (click)="backToAllFilters()">
    < Back To All Filters
  </div>

  <pf-filter-section
    class="filter-section"
    [filter]="singledFilter$ | async"
    [ngSwitch]="(singledFilter$| async)?.Type"
    [overriddenSelectionCount]="selectionCount$ | async"
    [singled]="true"
    [searchValue]="searchValue$ | async"
    (clear)="handleClearSection($event)"
    (searchValueChanged)="handleSearchValueChanged($event)">

    <pf-async-container
      [loading]="loadingOptions$ | async"
      [spinnerType]="'GIF'"
      [loadingError]="loadingOptionsError$ | async"
      [loadingErrorMessage]="'Error.'"
      [hideReloadButton]="true"
      [smartLoadingMask]="true">

      <ng-container *ngSwitchCase="filterTypes.Multi">
      <pf-multi-select-filter
        [filter]="singledFilter$ | async"
        (optionSelected)="handleMultiSelectOptionSelected($event)">
      </pf-multi-select-filter>
      </ng-container>

      <ng-container *ngSwitchCase="filterTypes.FilterableMulti">
        <pf-filterable-multi-select-filter
          [filter]="singledFilter$ | async"
          (optionSelected)="handleMultiSelectOptionSelected($event)">
        </pf-filterable-multi-select-filter>
      </ng-container>

    </pf-async-container>

  </pf-filter-section>
</div>
