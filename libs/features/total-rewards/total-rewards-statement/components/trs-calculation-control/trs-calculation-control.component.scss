@import 'total-rewards/app-colors';
@import 'colors';
@import 'total-rewards/control-common';

.trs-calculation {
  table {
    table-layout: fixed;
    .field-column {
      width: 70%;
    }
    .employer-contribution-column {
      width: 30%;
    }
    &.consolidated {
      tr.trs-calculation-row {
        height: 18px;
        line-height: 1; // shrink row heights in consolidated mode
      }
      td.summary {
        border-top: 0; // hide the border above the total
        padding-bottom: .3rem;
      }
      td.contribution-field.summary > span {
        vertical-align: -2px; // push the number/value up to line up with the field
      }
    }
  }
  &.decimals-enabled {
    table {
      .field-column {
        width: 68%;
      }
      .employer-contribution-column {
        width: 32%;
      }
    }
  }
  &.employee-contributions-enabled {
    table {
      .field-column {
        width: 50%;
      }
      .employee-contribution-column {
        width: 25%;
      }
      .employer-contribution-column {
        width: 20%;
      }
    }
  }
  &.employee-contributions-decimals-enabled {
    table {
      .field-column {
        width: 46%;
      }
      .employee-contribution-column {
        width: 27%;
      }
      .employer-contribution-column {
        width: 22%;
      }
    }
  }
  .faux-title {
    font-weight: bold;
    font-style: italic;
    font-size: 1.2rem;
    letter-spacing: -.8px;
    vertical-align: top;
  }
}

.trs-calculation.print-mode, .trs-calculation.preview-mode {
  table {
    .employer-contribution-column {
      width: 25%;
    }
    .button-column {
      width: 0;
    }
  }
  &.decimals-enabled, &.employee-contributions-decimals-enabled  {
    table {
      .employer-contribution-column {
        width: 27%;
      }
    }
  }
}

.table-sm td {
  padding-top: 0;
  padding-bottom: 0;
}

.trs-calculation-row {
  &:last-child {
    height: 2rem; // target the last row and increase height for additional separation between this row and the last total row
  }
  .calculation-control-drag-icon {
    visibility: hidden;
    margin-left: -17px;
  }
  .remove-btn {
    visibility: hidden;
    margin: 0 0 0 4px;
    padding: .2rem;
    line-height: 1;
  }
  td.summary {
    font-weight: 500;
    border-top: 1px solid $trs-soft-border-color;
    padding-top: .3rem;
  }
  .add-field-btn {
    margin-left: 4px;
  }
}

.edit-mode {
  .trs-calculation-row:hover {
    .remove-btn {
      visibility: visible;
    }
    .calculation-control-drag-icon {
      visibility: visible;
    }
  }
  .draggable {
    cursor: grab;
  }

  //Targets the dragging element for dragula
  .gu-mirror pf-string-editor .radial-text-counter {
    visibility: hidden;
  }
}

.edit-icon {
  right: -2px;
}
