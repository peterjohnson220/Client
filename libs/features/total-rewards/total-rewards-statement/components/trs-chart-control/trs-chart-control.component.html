<div class="trs-chart px-3 mt-3" pfModeClassifierDirective [mode]="mode" [class.hidden-title]="!showTitle">
  <div class="heading">
    <h4 class="primary-control-heading mb-1 mr-2 d-inline-block">
      <pf-string-editor
        *ngIf="showTitle"
        [value]="controlData.Title.Override"
        [placeholder]="controlData.Title.Default"
        [maxCharacters]="30"
        [inEditMode]="inEditMode"
        (valueChange)="onControlTitleChange($event)">
      </pf-string-editor>
    </h4>
    <a *ngIf="!inPrintMode" href="javascript:void(0)" (click)="onSettingsClick()" class="settings position-relative align-top" title="Chart Settings">
      <fa-icon [icon]="'cog'" aria-hidden="true"></fa-icon>
    </a>
  </div>
  <kendo-chart [transitions]="!inEditMode && !inPrintMode" [seriesColors]="chartColors" [style.height]="height" (legendItemClick)="onLegendItemClick($event)" (render)="onChartRender($event)">
    <kendo-chart-legend 
      [position]="'bottom'" 
      [labels]="inPrintMode ? printModeLegendLabels : defaultLegendLabels"
      [offsetY]="(showTitle) ? 0 : -40">
    </kendo-chart-legend>
    <kendo-chart-series>
      <kendo-chart-series-item
        type="donut"
        categoryField="category"
        field="value"
        [data]="chartData"
        [autoFit]="true"
        [highlight]="false">
        <kendo-chart-series-item-labels
          *ngIf="showChartSeriesLabels"
          position="outsideEnd"
          color="#333333"
          [content]="labelContent">
        </kendo-chart-series-item-labels>
      </kendo-chart-series-item>
    </kendo-chart-series>
  </kendo-chart>
</div>
