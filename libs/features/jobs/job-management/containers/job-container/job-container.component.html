<pf-async-container [loading]="loading$ | async">
  <div class="px-3">
    <ul ngbNav #nav="ngbNav"  [destroyOnHide]="false" [(activeId)]="activeId" class="nav-tabs">
      <li [ngbNavItem]="jobManagementTabs.StandardFields" [title]="'Standard Fields'" [id]="jobManagementTabs.StandardFields">
        <a ngbNavLink>Standard Fields</a>
        <ng-template ngbNavContent>
          <perfect-scrollbar class="mt-4 tab-content overflow-hidden">
            <pf-standard-fields #standardFieldsComponent></pf-standard-fields>
          </perfect-scrollbar>
        </ng-template>
      </li>
      <li [ngbNavItem]="jobManagementTabs.UserDefinedFields" *ngIf="(jobUserDefinedFields$ | async).length" [title]="'User Defined Fields'" [id]="jobManagementTabs.UserDefinedFields">
        <a ngbNavLink>User Defined Fields</a>
        <ng-template ngbNavContent>
          <perfect-scrollbar class="mt-4 tab-content overflow-hidden">
            <pf-user-defined-fields #userDefinedFieldsComponent></pf-user-defined-fields>
          </perfect-scrollbar>
        </ng-template>
      </li>
      <li [ngbNavItem]="jobManagementTabs.Structures" [title]="'Structure Mapping'" [id]="jobManagementTabs.Structures">
        <a ngbNavLink>Structure Mapping</a>
        <ng-template ngbNavContent>
          <div class="mt-4 tab-content">
            <pf-job-structures #structuresComponent></pf-job-structures>
          </div>
        </ng-template>
      </li>
      <li [ngbNavItem]="jobManagementTabs.Attachments" [title]="'Attachments'" [id]="jobManagementTabs.Attachments">
        <a ngbNavLink>Attachments</a>
        <ng-template ngbNavContent>
          <perfect-scrollbar class="mt-4 tab-content overflow-hidden">
            <pf-job-attachments #attachmentsComponent></pf-job-attachments>
          </perfect-scrollbar>
        </ng-template>
      </li>
      <li [ngbNavItem]="jobManagementTabs.Notes" [title]="'Notes'" [id]="jobManagementTabs.Notes">
        <a ngbNavLink>Notes</a>
        <ng-template ngbNavContent>
          <div class="mt-4 tab-content">
            <pf-notes-manager
              [entityId]="jobId"
              [display]="'component'"
              [apiServiceIndicator]="notesApiServiceType"
              [placeholderText]="'To add notes to this job, fill out the area below, click Add and then Save.'"
              [modalTitle]="'Company Job Notes'">
            </pf-notes-manager>
          </div>
        </ng-template>
      </li>
    </ul>
    <div [ngbNavOutlet]="nav"></div>
  </div>
</pf-async-container>
